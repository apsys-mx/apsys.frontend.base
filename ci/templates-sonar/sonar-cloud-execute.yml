parameters:
- name: sonarServiceName
  type: string
- name: sonarCloudOrganization
  type: string

steps:
  - task: SonarCloudAnalyze@1
    displayName: 'SonarCloud Analyze'
    enabled: true
    inputs:
        jdkversion: 'JAVA_HOME'
  - task: SonarCloudPublish@1
    displayName: 'SonarCloud Publish'
    enabled: true
    inputs:
        pollingTimeoutSec: '300'
  - task: sonarcloud-buildbreaker@2
    displayName: 'SonarCloud Buildbreaker'
    enabled: true
    inputs:
      SonarCloud: ${{ parameters.sonarServiceName }}
      organization: ${{ parameters.sonarCloudOrganization }}
